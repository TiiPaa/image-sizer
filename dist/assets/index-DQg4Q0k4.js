import{r as e,a as t}from"./vendor-B2B-WOM0.js";import{U as a,C as s,X as l,L as n,a as r,E as i,b as o,c,A as d,M as h,D as u,d as m,e as x,P as g,I as p,R as b}from"./icons-wt9981rb.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var f={exports:{}},v={},w=e,j=Symbol.for("react.element"),y=Symbol.for("react.fragment"),N=Object.prototype.hasOwnProperty,k=w.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,C={key:!0,ref:!0,__self:!0,__source:!0};function M(e,t,a){var s,l={},n=null,r=null;for(s in void 0!==a&&(n=""+a),void 0!==t.key&&(n=""+t.key),void 0!==t.ref&&(r=t.ref),t)N.call(t,s)&&!C.hasOwnProperty(s)&&(l[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps)void 0===l[s]&&(l[s]=t[s]);return{$$typeof:j,type:e,key:n,ref:r,props:l,_owner:k.current}}v.Fragment=y,v.jsx=M,v.jsxs=M,f.exports=v;var S,E=f.exports,D=t;function L({onImageLoad:t}){const[l,n]=e.useState(!1),r=e.useRef(null),i=e.useRef(null),o=e.useCallback((e=>{e&&e.type.startsWith("image/")&&t(e)}),[t]),c=e.useCallback((e=>{var t;e.preventDefault(),e.stopPropagation(),n(!1);const a=null==(t=e.dataTransfer)?void 0:t.files[0];a&&o(a)}),[o]),d=e.useCallback((e=>{e.preventDefault(),e.stopPropagation(),n(!0)}),[]),h=e.useCallback((e=>{var t;e.preventDefault(),e.stopPropagation();const a=null==(t=r.current)?void 0:t.getBoundingClientRect();if(a){const{clientX:t,clientY:s}=e;(t<=a.left||t>=a.right||s<=a.top||s>=a.bottom)&&n(!1)}}),[]),u=e.useCallback((e=>{var t;const a=null==(t=e.target.files)?void 0:t[0];a&&o(a),e.target.value=""}),[o]),m=e.useCallback((()=>{var e;null==(e=i.current)||e.click()}),[]),x=e.useCallback((e=>{var t;const a=null==(t=e.clipboardData)?void 0:t.items;if(a)for(const s of a)if(s.type.startsWith("image/")){const e=s.getAsFile();if(e){o(e);break}}}),[o]);return e.useEffect((()=>{const e=r.current;if(e)return e.addEventListener("drop",c),e.addEventListener("dragover",d),e.addEventListener("dragleave",h),document.addEventListener("paste",x),()=>{e.removeEventListener("drop",c),e.removeEventListener("dragover",d),e.removeEventListener("dragleave",h),document.removeEventListener("paste",x)}}),[c,d,h,x]),E.jsxs("div",{ref:r,onClick:m,className:`\n        border-2 border-dashed border-gray-700 rounded-lg p-12 text-center\n        transition-all duration-200 cursor-pointer h-[calc(100vh-12rem)]\n        hover:border-gray-500 hover:bg-gray-900/50\n        ${l?"border-blue-500 bg-gray-900/50":"bg-gray-900"}\n      `,children:[E.jsx("input",{ref:i,type:"file",className:"hidden",accept:"image/*",onChange:u}),E.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx(a,{className:"w-12 h-12 text-gray-400"}),E.jsx(s,{className:"w-12 h-12 text-gray-400"})]}),E.jsxs("div",{className:"text-gray-300 mt-4",children:[E.jsx("p",{className:"font-medium",children:"Drop image here, click to upload, or paste from clipboard"}),E.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Supports JPG, PNG, WebP"})]})]})]})}function R({imageUrl:t,onClose:a}){const s=e.useRef(null),n=e.useRef(null),[r,i]=e.useState({x:0,y:0}),[o,c]=e.useState({x:0,y:0,width:0,height:0}),[d,h]=e.useState(!1),u=200,[m,x]=e.useState(2);e.useEffect((()=>{const e=e=>{"Escape"===e.key&&a()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)}),[a]),e.useEffect((()=>{const e=()=>{const e=n.current;if(!e)return;const t=e.getBoundingClientRect();c({x:t.left,y:t.top,width:t.width,height:t.height})};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]);return E.jsxs("div",{className:"fixed inset-0 z-50 bg-black flex items-center justify-center",children:[E.jsx("button",{onClick:a,className:"absolute top-4 right-4 p-2 rounded-full bg-black/50 \r\n          text-white hover:bg-black/70 transition-colors z-10","aria-label":"Close fullscreen",children:E.jsx(l,{className:"w-6 h-6"})}),E.jsxs("div",{ref:s,className:"relative w-full h-full flex items-center justify-center",onMouseMove:e=>{if(!n.current)return;const t=e.clientX-o.x,a=e.clientY-o.y;t<0||t>o.width||a<0||a>o.height?h(!1):(h(!0),i({x:t,y:a}))},onMouseLeave:()=>h(!1),onWheel:e=>{e.preventDefault(),x((t=>{const a=t+(e.deltaY>0?-.5:.5);return Math.min(Math.max(a,1.5),6)}))},children:[E.jsx("img",{ref:n,src:t,alt:"Fullscreen view",className:"max-w-full max-h-full object-contain"}),d&&E.jsx("div",{className:"absolute pointer-events-none border-2 border-white rounded-full overflow-hidden shadow-lg",style:{width:u,height:u,transform:`translate(${r.x-100}px, ${r.y-100}px)`,left:o.x,top:o.y},children:E.jsx("div",{style:{width:o.width*m,height:o.height*m,transform:`translate(${-r.x*m+100}px, ${-r.y*m+100}px)`,backgroundImage:`url(${t})`,backgroundSize:`${o.width*m}px ${o.height*m}px`,backgroundPosition:"top left",backgroundRepeat:"no-repeat"}})})]}),E.jsxs("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-black/50 px-4 py-2 rounded-full text-white text-sm",children:["Zoom: ",m.toFixed(1),"x (Use mouse wheel to adjust)"]})]})}S=D.createRoot,D.hydrateRoot;const I=[{name:"16:9",value:16/9},{name:"4:3",value:4/3},{name:"3:2",value:1.5},{name:"1:1",value:1},{name:"2:3",value:2/3},{name:"3:4",value:3/4},{name:"9:16",value:9/16},{name:"Custom",value:0}];function P({imageUrl:t,onClose:a,onImageUpdate:s}){const u=e.useRef(null),m=e.useRef(null),[x,g]=e.useState({x:0,y:0,width:0,height:0}),[p,b]=e.useState(!1),[f,v]=e.useState({x:0,y:0}),[w,j]=e.useState(0),[y,N]=e.useState(!1),[k,C]=e.useState(!1),[M,S]=e.useState(null),[D,L]=e.useState(!0),[R,P]=e.useState(null),[z,U]=e.useState(null),[$,F]=e.useState(16),[_,O]=e.useState(9),[B,T]=e.useState("ratio"),[W,Y]=e.useState(1920),[G,A]=e.useState(1080),H=w===I.length-1,X=D?H?"ratio"===B?$/_:W/G:I[w].value:null;e.useEffect((()=>{y&&(()=>{const e=m.current;if(!e)return;const t=e.getBoundingClientRect(),a=t.width,s=t.height;let l,n;if(H&&"pixels"===B){const r=e.naturalWidth/t.width,i=e.naturalHeight/t.height;if(l=W/r,n=G/i,l>a||n>s){const e=.8*Math.min(a/l,s/n);l*=e,n*=e}}else l=.8*a,n=X?l/X:.8*s,n>.8*s&&(n=.8*s,l=X?n*X:.8*a);g({x:(a-l)/2,y:(s-n)/2,width:l,height:n})})()}),[y,X,D,$,_,B,W,G]);const J=e=>{if(e.preventDefault(),e.shiftKey){const t=m.current;if(!t)return;const a=t.getBoundingClientRect(),s=e.deltaY>0?.95:1.05;let l=x.width*s,n=X?l/X:x.height*s;l>a.width&&(l=a.width,n=X?l/X:n),n>a.height&&(n=a.height,l=X?n*X:l);const r=x.x+(x.width-l)/2,i=x.y+(x.height-n)/2,o=Math.max(0,Math.min(r,a.width-l)),c=Math.max(0,Math.min(i,a.height-n));g({x:o,y:c,width:l,height:n})}else D&&j((t=>e.deltaY>0?t===I.length-1?0:t+1:0===t?I.length-1:t-1))};e.useEffect((()=>{const e=u.current;if(e)return e.addEventListener("wheel",J,{passive:!1}),()=>e.removeEventListener("wheel",J)}),[x,X,D]);const K=e=>{const t=u.current;if(!t)return;const a=t.getBoundingClientRect();e.target.dataset.handle?P(e.target.dataset.handle||null):(b(!0),v({x:e.clientX-a.left-x.x,y:e.clientY-a.top-x.y}))},q=()=>{b(!1),P(null)},V=()=>{const e=document.createElement("canvas"),t=e.getContext("2d");if(!t||!m.current)return null;const a=m.current,s=a.getBoundingClientRect(),l=a.naturalWidth/s.width,n=a.naturalHeight/s.height;let r,i;H&&"pixels"===B?(r=W,i=G):(r=Math.round(x.width*l),i=Math.round(x.height*n)),e.width=r,e.height=i;const o=Math.round(x.x*l),c=Math.round(x.y*n),d=Math.round(x.width*l),h=Math.round(x.height*n);return t.drawImage(a,o,c,d,h,0,0,r,i),e};return E.jsxs("div",{className:"fixed inset-0 z-50 bg-black/90 flex items-center justify-center",children:[E.jsxs("div",{className:"absolute top-4 right-4 flex gap-2 z-20",children:[E.jsxs("div",{className:"relative",children:[E.jsx("button",{onClick:()=>L(!D),className:"p-2 rounded-full bg-orange-500 text-white hover:bg-orange-600 transition-colors",onMouseEnter:()=>U("lock"),onMouseLeave:()=>U(null),children:D?E.jsx(n,{className:"w-6 h-6"}):E.jsx(r,{className:"w-6 h-6"})}),"lock"===z&&E.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 mt-2 px-3 py-1.5 bg-black/75 text-white text-sm rounded-lg whitespace-nowrap",children:D?"Unlock aspect ratio":"Lock aspect ratio"})]}),E.jsxs("div",{className:"relative",children:[E.jsx("button",{onClick:()=>{if(k)C(!1),S(null);else{const e=V();e&&(S(e.toDataURL()),C(!0))}},className:"p-2 rounded-full bg-purple-500 text-white hover:bg-purple-600 transition-colors",onMouseEnter:()=>U("preview"),onMouseLeave:()=>U(null),children:k?E.jsx(i,{className:"w-6 h-6"}):E.jsx(o,{className:"w-6 h-6"})}),"preview"===z&&E.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 mt-2 px-3 py-1.5 bg-black/75 text-white text-sm rounded-lg whitespace-nowrap",children:k?"Hide preview":"Show preview"})]}),E.jsxs("div",{className:"relative",children:[E.jsx("button",{onClick:()=>{const e=V();e&&(null==s||s(e.toDataURL()),a())},className:"p-2 rounded-full bg-green-500 text-white hover:bg-green-600 transition-colors",onMouseEnter:()=>U("apply"),onMouseLeave:()=>U(null),children:E.jsx(c,{className:"w-6 h-6"})}),"apply"===z&&E.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 mt-2 px-3 py-1.5 bg-black/75 text-white text-sm rounded-lg whitespace-nowrap",children:"Apply crop"})]}),E.jsxs("div",{className:"relative",children:[E.jsx("button",{onClick:a,className:"p-2 rounded-full bg-white/10 text-white hover:bg-white/20 transition-colors",onMouseEnter:()=>U("close"),onMouseLeave:()=>U(null),children:E.jsx(l,{className:"w-6 h-6"})}),"close"===z&&E.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 mt-2 px-3 py-1.5 bg-black/75 text-white text-sm rounded-lg whitespace-nowrap",children:"Cancel"})]})]}),E.jsxs("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 z-20",children:[E.jsx("div",{className:"flex gap-2",children:D&&I.map(((e,t)=>E.jsx("button",{onClick:()=>j(t),className:"px-3 py-1 rounded-full transition-colors "+(t===w?"bg-white text-black":"bg-black/50 text-white hover:bg-black/70"),children:e.name},e.name)))}),D&&H&&E.jsxs("div",{className:"flex flex-col gap-2 items-center justify-center mt-2",children:[E.jsxs("div",{className:"flex gap-1 bg-black/70 rounded-full p-1",children:[E.jsx("button",{onClick:()=>T("ratio"),className:"px-3 py-1 rounded-full text-sm transition-colors "+("ratio"===B?"bg-white text-black":"text-white hover:bg-white/10"),children:"Ratio"}),E.jsx("button",{onClick:()=>T("pixels"),className:"px-3 py-1 rounded-full text-sm transition-colors "+("pixels"===B?"bg-white text-black":"text-white hover:bg-white/10"),children:"Pixels"})]}),"ratio"===B?E.jsxs("div",{className:"flex gap-2 items-center",children:[E.jsx("input",{type:"number",min:"1",max:"999",value:$,onChange:e=>F(Math.max(1,parseInt(e.target.value)||1)),className:"w-16 px-2 py-1 rounded bg-black/70 text-white text-center border border-white/30 focus:border-white/60 focus:outline-none",placeholder:"W"}),E.jsx("button",{onClick:()=>{const e=$;F(_),O(e)},className:"p-1 rounded bg-black/70 text-white hover:bg-white/20 transition-colors border border-white/30",title:"Swap width and height",children:E.jsx(d,{className:"w-4 h-4"})}),E.jsx("input",{type:"number",min:"1",max:"999",value:_,onChange:e=>O(Math.max(1,parseInt(e.target.value)||1)),className:"w-16 px-2 py-1 rounded bg-black/70 text-white text-center border border-white/30 focus:border-white/60 focus:outline-none",placeholder:"H"})]}):E.jsxs("div",{className:"flex gap-2 items-center",children:[E.jsx("input",{type:"number",min:"1",max:"9999",value:W,onChange:e=>Y(Math.max(1,parseInt(e.target.value)||1)),className:"w-20 px-2 py-1 rounded bg-black/70 text-white text-center border border-white/30 focus:border-white/60 focus:outline-none",placeholder:"Width"}),E.jsx("button",{onClick:()=>{const e=W;Y(G),A(e)},className:"p-1 rounded bg-black/70 text-white hover:bg-white/20 transition-colors border border-white/30",title:"Swap width and height",children:E.jsx(d,{className:"w-4 h-4"})}),E.jsx("input",{type:"number",min:"1",max:"9999",value:G,onChange:e=>A(Math.max(1,parseInt(e.target.value)||1)),className:"w-20 px-2 py-1 rounded bg-black/70 text-white text-center border border-white/30 focus:border-white/60 focus:outline-none",placeholder:"Height"})]})]})]}),E.jsx("div",{ref:u,className:"relative select-none mt-16",onMouseMove:e=>{if(!u.current||!m.current)return;const t=u.current.getBoundingClientRect(),a=m.current.getBoundingClientRect();if(p){const s=e.clientX-t.left-f.x,l=e.clientY-t.top-f.y,n=Math.max(0,Math.min(s,a.width-x.width)),r=Math.max(0,Math.min(l,a.height-x.height));g((e=>({...e,x:n,y:r})))}else if(R){const s=e.clientX-t.left,l=e.clientY-t.top;let n=x.width,r=x.height,i=x.x,o=x.y;if(R.includes("e")&&(n=Math.max(50,Math.min(s-x.x,a.width-x.x)),X&&(r=n/X)),R.includes("w")){const e=x.x+x.width-50;i=Math.max(0,Math.min(s,e)),n=x.x+x.width-i,X&&(r=n/X,o=x.y+(x.height-r)/2)}if(R.includes("s")&&(r=Math.max(50,Math.min(l-x.y,a.height-x.y)),X&&(n=r*X)),R.includes("n")){const e=x.y+x.height-50;o=Math.max(0,Math.min(l,e)),r=x.y+x.height-o,X&&(n=r*X,i=x.x+(x.width-n)/2)}i+n>a.width&&(n=a.width-i,X&&(r=n/X)),o+r>a.height&&(r=a.height-o,X&&(n=r*X)),g({x:i,y:o,width:n,height:r})}},onMouseUp:q,onMouseLeave:q,children:k&&M?E.jsxs("div",{className:"relative",children:[E.jsx("img",{src:M,alt:"Crop preview",className:"max-w-full max-h-[80vh] pointer-events-none border border-white",draggable:!1}),E.jsx("div",{className:"absolute top-2 left-2 bg-black/70 text-white px-3 py-1 rounded-full text-sm",children:"Preview"})]}):E.jsxs(E.Fragment,{children:[E.jsx("img",{ref:m,src:t,alt:"Crop preview",className:"max-w-full max-h-[80vh] pointer-events-none",draggable:!1,onLoad:()=>N(!0)}),y&&E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"absolute inset-0 bg-black/50",style:{clipPath:`polygon(\n                      0 0,\n                      100% 0,\n                      100% 100%,\n                      0 100%,\n                      0 0,\n                      ${x.x}px ${x.y}px,\n                      ${x.x}px ${x.y+x.height}px,\n                      ${x.x+x.width}px ${x.y+x.height}px,\n                      ${x.x+x.width}px ${x.y}px,\n                      ${x.x}px ${x.y}px\n                    )`}}),E.jsxs("div",{className:"absolute border-2 border-white cursor-move",style:{top:x.y,left:x.x,width:x.width,height:x.height},onMouseDown:K,children:[E.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-white/50",children:E.jsx(h,{className:"w-6 h-6"})}),E.jsx("div",{className:"absolute top-0 left-0 w-4 h-4 -translate-x-1/2 -translate-y-1/2 cursor-nw-resize","data-handle":"nw",onMouseDown:K}),E.jsx("div",{className:"absolute top-0 right-0 w-4 h-4 translate-x-1/2 -translate-y-1/2 cursor-ne-resize","data-handle":"ne",onMouseDown:K}),E.jsx("div",{className:"absolute bottom-0 left-0 w-4 h-4 -translate-x-1/2 translate-y-1/2 cursor-sw-resize","data-handle":"sw",onMouseDown:K}),E.jsx("div",{className:"absolute bottom-0 right-0 w-4 h-4 translate-x-1/2 translate-y-1/2 cursor-se-resize","data-handle":"se",onMouseDown:K}),E.jsx("div",{className:"absolute top-0 left-1/2 w-4 h-4 -translate-x-1/2 -translate-y-1/2 cursor-n-resize","data-handle":"n",onMouseDown:K}),E.jsx("div",{className:"absolute bottom-0 left-1/2 w-4 h-4 -translate-x-1/2 translate-y-1/2 cursor-s-resize","data-handle":"s",onMouseDown:K}),E.jsx("div",{className:"absolute left-0 top-1/2 w-4 h-4 -translate-x-1/2 -translate-y-1/2 cursor-w-resize","data-handle":"w",onMouseDown:K}),E.jsx("div",{className:"absolute right-0 top-1/2 w-4 h-4 translate-x-1/2 -translate-y-1/2 cursor-e-resize","data-handle":"e",onMouseDown:K})]})]})]})}),E.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-black/50 px-4 py-2 rounded-full text-white text-sm",children:k?"Press the eye icon to return to editing":D?"Mouse wheel to switch ratio • Shift + wheel to resize • Drag to move":"Drag corners to resize freely • Click lock icon to maintain aspect ratio"})]})}function z({imageInfo:t,onClear:a,onImageUpdate:s}){const[n,r]=e.useState(!1),[i,o]=e.useState(!1),d=e.useRef(null),[h,p]=e.useState(!1),[b,f]=e.useState("00016-189372747_x0.5_modified.png"),v=()=>b,w=()=>{b.trim()&&p(!1)};return E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"bg-gray-900 rounded-lg overflow-hidden",children:[E.jsxs("div",{className:"relative aspect-auto h-[calc(100vh-32rem)] min-h-[200px] group",children:[E.jsx("img",{ref:d,src:t.url,alt:"Preview",className:"absolute inset-0 w-full h-full object-contain cursor-move",draggable:!0,onDragStart:e=>{const a=v();e.dataTransfer.setData("text/plain",a),e.dataTransfer.setData("text/uri-list",t.url);const s=document.createElement("canvas"),l=s.getContext("2d",{alpha:!1});if(!l||!d.current)return;const n=d.current.getBoundingClientRect();s.width=n.width,s.height=n.height,l.drawImage(d.current,0,0,s.width,s.height),s.toBlob((s=>{if(!s)return;const l=new File([s],a,{type:t.type,lastModified:Date.now()});e.dataTransfer.setData("application/x-moz-file",""),e.dataTransfer.items.add(l)}),t.type),d.current&&(e.dataTransfer.setDragImage(d.current,n.width/2,n.height/2),e.currentTarget.style.cursor="move")},onDragEnd:e=>{e.currentTarget&&(e.currentTarget.style.cursor="move")},style:{cursor:"move"}}),E.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[E.jsx("div",{className:"absolute top-4 right-4 pointer-events-auto",children:E.jsx("button",{onClick:a,className:"p-1 rounded-full bg-black/50 \r\n                  text-white hover:bg-black/70 transition-colors","aria-label":"Clear image",children:E.jsx(l,{className:"w-5 h-5"})})}),E.jsxs("div",{className:"absolute bottom-4 right-4 flex gap-2 pointer-events-auto",children:[E.jsx("button",{onClick:()=>{const e=document.createElement("a");e.href=t.url,e.download=v(),document.body.appendChild(e),e.click(),document.body.removeChild(e)},className:"p-3 rounded-full bg-black/50 \r\n                  text-white hover:bg-black/70 transition-colors transform hover:scale-110","aria-label":"Download image",children:E.jsx(u,{className:"w-6 h-6"})}),E.jsx("button",{onClick:()=>r(!0),className:"p-3 rounded-full bg-black/50 \r\n                  text-white hover:bg-black/70 transition-colors transform hover:scale-110","aria-label":"View fullscreen",children:E.jsx(m,{className:"w-6 h-6"})}),E.jsx("button",{onClick:()=>o(!0),className:"p-3 rounded-full bg-black/50 \r\n                  text-white hover:bg-black/70 transition-colors transform hover:scale-110","aria-label":"Crop image",children:E.jsx(x,{className:"w-6 h-6"})})]})]})]}),E.jsx("div",{className:"p-3 bg-black/30 flex items-center gap-2",children:h?E.jsxs("div",{className:"flex-1 flex items-center gap-2",children:[E.jsx("input",{type:"text",value:b,onChange:e=>f(e.target.value),onKeyDown:e=>"Enter"===e.key&&w(),className:"flex-1 bg-black/30 text-white px-3 py-1.5 rounded border border-gray-700 focus:outline-none focus:border-blue-500",autoFocus:!0}),E.jsx("button",{onClick:w,className:"p-1.5 rounded-full bg-green-500/20 text-green-400 hover:bg-green-500/30 transition-colors",children:E.jsx(c,{className:"w-4 h-4"})})]}):E.jsxs(E.Fragment,{children:[E.jsx("span",{className:"flex-1 text-gray-300 text-sm truncate",children:b}),E.jsx("button",{onClick:()=>p(!0),className:"p-1.5 rounded-full bg-white/10 text-white hover:bg-white/20 transition-colors",children:E.jsx(g,{className:"w-4 h-4"})})]})})]}),n&&E.jsx(R,{imageUrl:t.url,onClose:()=>r(!1)}),i&&E.jsx(P,{imageUrl:t.url,onClose:()=>o(!1),onImageUpdate:e=>{s(e),o(!1)}})]})}function U({imageInfo:t,onImageUpdate:a}){const[s,l]=e.useState("image/png"),n=e.useCallback((()=>{if(!t)return[];return[{scale:"x1",multiplier:1},{scale:"x2",multiplier:2},{scale:"x1.5",multiplier:1.5},{scale:"x0.75",multiplier:.75},{scale:"x0.5",multiplier:.5}].map((({scale:e,multiplier:a})=>({scale:e,width:Math.round(t.width*a),height:Math.round(t.height*a)})))}),[t]),r=e.useCallback((()=>{if(!t)return[];const e=t.height/t.width;return[{name:"small",width:320,height:Math.round(320*e)},{name:"medium",width:768,height:Math.round(768*e)},{name:"large",width:1024,height:Math.round(1024*e)},{name:"xl",width:1280,height:Math.round(1280*e)},{name:"xxl",width:1920,height:Math.round(1920*e)}]}),[t]),i=e.useCallback((async(e,l)=>{if(!t)return;const n=new Image;n.src=t.url,await new Promise((e=>{n.onload=e}));const r=document.createElement("canvas"),i=r.getContext("2d");if(!i)return;r.width=e,r.height=l,"image/jpeg"===s&&(i.fillStyle="#FFFFFF",i.fillRect(0,0,e,l)),i.drawImage(n,0,0,e,l),t.name.substring(0,t.name.lastIndexOf("."))||t.name;const o=await new Promise((e=>{r.toBlob((t=>e(t)),s,"image/jpeg"===s?.92:void 0)}));if(!o)return;const c=URL.createObjectURL(o);a(c)}),[t,s,a]);return t?E.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 space-y-8",children:[E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs("div",{className:"bg-black/50 rounded-lg p-4",children:[E.jsx("div",{className:"text-gray-400 text-sm mb-1",children:"Size"}),E.jsx("div",{className:"text-white font-semibold",children:(c=t.size,`${(c/1024).toFixed(2)} KB`)})]}),E.jsxs("div",{className:"bg-black/50 rounded-lg p-4",children:[E.jsx("div",{className:"text-gray-400 text-sm mb-1",children:"Dimensions"}),E.jsxs("div",{className:"text-white font-semibold",children:[t.width," × ",t.height]})]}),E.jsxs("div",{className:"bg-black/50 rounded-lg p-4",children:[E.jsx("div",{className:"text-gray-400 text-sm mb-1",children:"Ratio"}),E.jsx("div",{className:"text-white font-semibold",children:((e,t)=>{const a=(e,t)=>0===t?e:a(t,e%t),s=a(e,t);return`${e/s}:${t/s}`})(t.width,t.height)})]}),E.jsxs("div",{className:"bg-black/50 rounded-lg p-4",children:[E.jsx("div",{className:"text-gray-400 text-sm mb-1",children:"Format"}),E.jsx("div",{className:"text-white font-semibold",children:(o=t.file.type,o.split("/")[1].toUpperCase())})]})]}),E.jsx("div",{className:"bg-black/30 rounded-lg p-4",children:E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx("span",{className:"text-gray-400 text-sm",children:"Export Format"}),E.jsxs("div",{className:"flex gap-3",children:[E.jsx("button",{onClick:()=>l("image/png"),className:"px-3 py-1 rounded-full text-sm transition-colors "+("image/png"===s?"bg-white text-black":"bg-black/50 text-white hover:bg-black/70"),children:"PNG"}),E.jsx("button",{onClick:()=>l("image/jpeg"),className:"px-3 py-1 rounded-full text-sm transition-colors "+("image/jpeg"===s?"bg-white text-black":"bg-black/50 text-white hover:bg-black/70"),children:"JPG"})]})]})}),E.jsxs("div",{children:[E.jsx("h3",{className:"text-gray-400 text-sm font-medium mb-4",children:"Proportional Sizes"}),E.jsx("div",{className:"space-y-2",children:n().map((({scale:e,width:t,height:a})=>E.jsxs("button",{onClick:()=>i(t,a),className:"w-full flex items-center justify-between py-2 px-4 bg-black/30 rounded hover:bg-black/50 transition-colors",children:[E.jsx("div",{className:"text-gray-300",children:e}),E.jsxs("div",{className:"text-gray-300",children:[t," × ",a]})]},e)))})]}),E.jsxs("div",{children:[E.jsx("h3",{className:"text-gray-400 text-sm font-medium mb-4",children:"Common Sizes"}),E.jsx("div",{className:"space-y-2",children:r().map((({name:e,width:t,height:a})=>E.jsxs("button",{onClick:()=>i(t,a),className:"w-full flex items-center justify-between py-2 px-4 bg-black/30 rounded hover:bg-black/50 transition-colors",children:[E.jsx("div",{className:"text-gray-300",children:e}),E.jsxs("div",{className:"text-gray-300",children:[t," × ",a]})]},e)))})]})]}):E.jsx("div",{className:"bg-gray-900 rounded-lg p-6 space-y-8",children:E.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-400",children:[E.jsx(p,{className:"w-16 h-16 mb-4 opacity-50"}),E.jsx("p",{className:"text-lg",children:"Upload an image to see size information"}),E.jsx("p",{className:"text-sm opacity-75",children:"Supports JPG, PNG, WebP"})]})});var o,c}function $(){const[t,s]=e.useState(null),[l,n]=e.useState(!1),r=e.useRef(null),i=e.useCallback((e=>{const t=new FileReader;t.onload=t=>{var a;const l=new Image;l.onload=()=>{var a,n;s({url:null==(a=t.target)?void 0:a.result,originalUrl:null==(n=t.target)?void 0:n.result,width:l.width,height:l.height,name:e.name,size:e.size,type:e.type,file:e})},l.src=null==(a=t.target)?void 0:a.result},t.readAsDataURL(e)}),[]),o=e.useCallback((e=>{if(!t)return;const a=new Image;a.onload=()=>{fetch(e).then((e=>e.blob())).then((l=>{const n=new File([l],t.name,{type:t.type});s({url:e,originalUrl:t.originalUrl,width:a.width,height:a.height,name:t.name,size:l.size,type:t.type,file:n})}))},a.src=e}),[t]),c=e.useCallback((()=>{t&&o(t.originalUrl)}),[t,o]),d=e.useCallback((e=>{e.preventDefault(),n(!1);const t=e.dataTransfer.files[0];t&&t.type.startsWith("image/")&&i(t)}),[i]),h=e.useCallback((e=>{var t;const a=null==(t=e.target.files)?void 0:t[0];a&&a.type.startsWith("image/")&&i(a)}),[i]),u=e.useCallback((()=>{var e;null==(e=r.current)||e.click()}),[]);return E.jsx("div",{className:"min-h-screen bg-black text-white p-8",children:E.jsxs("div",{className:"max-w-6xl mx-auto",children:[E.jsx("h1",{className:"text-3xl font-bold mb-8 text-center",children:"Image Sizer"}),E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[E.jsx("div",{className:"space-y-6",children:t?E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsxs("div",{className:"flex items-center justify-between px-1",children:[E.jsx("div",{className:"text-sm text-gray-400 font-medium",children:"Original"}),E.jsxs("button",{onClick:c,className:"flex items-center gap-2 px-3 py-1 rounded-full bg-white/10 hover:bg-white/20 transition-colors text-sm",children:[E.jsx(b,{className:"w-4 h-4"}),"Reset"]})]}),E.jsxs("div",{onClick:u,className:"bg-gray-900 rounded-lg overflow-hidden relative group cursor-pointer\n                      "+(l?"ring-2 ring-blue-500":""),onDragOver:e=>{e.preventDefault(),n(!0)},onDragLeave:()=>n(!1),onDrop:d,children:[E.jsxs("div",{className:"relative aspect-auto min-h-[200px] max-h-[400px]",children:[E.jsx("img",{src:t.originalUrl,alt:"Original",className:"absolute inset-0 w-full h-full object-contain"}),E.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/80 opacity-0 group-hover:opacity-100 transition-opacity",children:E.jsxs("div",{className:"flex flex-col items-center gap-4",children:[E.jsx(a,{className:"w-12 h-12 text-white"}),E.jsxs("div",{className:"text-center",children:[E.jsx("p",{className:"font-medium text-white text-lg",children:"Click or drop to replace image"}),E.jsx("p",{className:"text-sm text-gray-300 mt-1",children:"Supports JPG, PNG, WebP"})]})]})})]}),E.jsx("input",{ref:r,type:"file",className:"hidden",accept:"image/*",onChange:h})]})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx("div",{className:"text-sm text-gray-400 font-medium px-1",children:"Modified"}),E.jsx(z,{imageInfo:t,onClear:()=>s(null),onImageUpdate:o})]})]}):E.jsx(L,{onImageLoad:i})}),E.jsx(U,{imageInfo:t,onImageUpdate:o})]})]})})}S(document.getElementById("root")).render(E.jsx(e.StrictMode,{children:E.jsx($,{})}));
//# sourceMappingURL=index-DQg4Q0k4.js.map
